/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { oAuthConfigurationCreateOAuthConfig } from "../funcs/o-auth-configuration-create-o-auth-config.js";
import { oAuthConfigurationDeleteOAuthConfig } from "../funcs/o-auth-configuration-delete-o-auth-config.js";
import { oAuthConfigurationGetOAuthConfig } from "../funcs/o-auth-configuration-get-o-auth-config.js";
import { oAuthConfigurationGetOAuthConnectorType } from "../funcs/o-auth-configuration-get-o-auth-connector-type.js";
import { oAuthConfigurationGetOAuthRegistry } from "../funcs/o-auth-configuration-get-o-auth-registry.js";
import { oAuthConfigurationListOAuthConfigsByType } from "../funcs/o-auth-configuration-list-o-auth-configs-by-type.js";
import { oAuthConfigurationListOAuthConfigs } from "../funcs/o-auth-configuration-list-o-auth-configs.js";
import { oAuthConfigurationUpdateOAuthConfig } from "../funcs/o-auth-configuration-update-o-auth-config.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class OAuthConfiguration extends ClientSDK {
  /**
   * List OAuth-capable connector types
   *
   * @remarks
   * Get all connector types that support OAuth authentication.<br><br>
   * <b>Admin Use:</b><br>
   * Admins use this to see which connector types need OAuth credentials
   * to be configured before users can authenticate.
   */
  async getOAuthRegistry(
    request?: operations.GetOAuthRegistryRequest | undefined,
    options?: RequestOptions,
  ): Promise<operations.GetOAuthRegistryResponse> {
    return unwrapAsync(oAuthConfigurationGetOAuthRegistry(
      this,
      request,
      options,
    ));
  }

  /**
   * Get OAuth connector type details
   *
   * @remarks
   * Get details for a specific OAuth-capable connector type.
   */
  async getOAuthConnectorType(
    request: operations.GetOAuthConnectorTypeRequest,
    options?: RequestOptions,
  ): Promise<operations.GetOAuthConnectorTypeResponse> {
    return unwrapAsync(oAuthConfigurationGetOAuthConnectorType(
      this,
      request,
      options,
    ));
  }

  /**
   * List OAuth configurations
   *
   * @remarks
   * List all OAuth configurations for the organization.<br><br>
   * <b>Security:</b><br>
   * <ul>
   * <li>Admins see full configuration including credentials</li>
   * <li>Non-admins see only essential fields (client ID, not secret)</li>
   * </ul>
   */
  async listOAuthConfigs(
    request?: operations.ListOAuthConfigsRequest | undefined,
    options?: RequestOptions,
  ): Promise<operations.ListOAuthConfigsResponse> {
    return unwrapAsync(oAuthConfigurationListOAuthConfigs(
      this,
      request,
      options,
    ));
  }

  /**
   * List OAuth configs for connector type
   *
   * @remarks
   * Get all OAuth configurations for a specific connector type.
   */
  async listOAuthConfigsByType(
    request: operations.ListOAuthConfigsByTypeRequest,
    options?: RequestOptions,
  ): Promise<operations.ListOAuthConfigsByTypeResponse> {
    return unwrapAsync(oAuthConfigurationListOAuthConfigsByType(
      this,
      request,
      options,
    ));
  }

  /**
   * Create OAuth configuration
   *
   * @remarks
   * Create a new OAuth configuration for a connector type.<br><br>
   * <b>Admin Only:</b><br>
   * Only admins can create OAuth configurations. These provide the
   * OAuth credentials needed for users to authenticate connectors.<br><br>
   * <b>Use Case:</b><br>
   * Before users can create Google Drive connectors with OAuth,
   * an admin must create an OAuth configuration with the Google
   * OAuth client ID and secret.
   */
  async createOAuthConfig(
    request: operations.CreateOAuthConfigRequest,
    options?: RequestOptions,
  ): Promise<operations.CreateOAuthConfigResponse> {
    return unwrapAsync(oAuthConfigurationCreateOAuthConfig(
      this,
      request,
      options,
    ));
  }

  /**
   * Get OAuth configuration
   *
   * @remarks
   * Get a specific OAuth configuration by ID.
   */
  async getOAuthConfig(
    request: operations.GetOAuthConfigRequest,
    options?: RequestOptions,
  ): Promise<operations.GetOAuthConfigResponse> {
    return unwrapAsync(oAuthConfigurationGetOAuthConfig(
      this,
      request,
      options,
    ));
  }

  /**
   * Update OAuth configuration
   *
   * @remarks
   * Update an OAuth configuration.<br><br>
   * <b>Admin Only:</b><br>
   * Only the creator or another admin can update.
   */
  async updateOAuthConfig(
    request: operations.UpdateOAuthConfigRequest,
    options?: RequestOptions,
  ): Promise<operations.UpdateOAuthConfigResponse> {
    return unwrapAsync(oAuthConfigurationUpdateOAuthConfig(
      this,
      request,
      options,
    ));
  }

  /**
   * Delete OAuth configuration
   *
   * @remarks
   * Delete an OAuth configuration.<br><br>
   * <b>Warning:</b><br>
   * Cannot delete if the configuration is used by active connectors.
   * Disable or delete dependent connectors first.
   */
  async deleteOAuthConfig(
    request: operations.DeleteOAuthConfigRequest,
    options?: RequestOptions,
  ): Promise<operations.DeleteOAuthConfigResponse> {
    return unwrapAsync(oAuthConfigurationDeleteOAuthConfig(
      this,
      request,
      options,
    ));
  }
}

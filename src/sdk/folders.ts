/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { foldersCreateSubfolder } from "../funcs/folders-create-subfolder.js";
import { foldersCreate } from "../funcs/folders-create.js";
import { foldersDelete } from "../funcs/folders-delete.js";
import { foldersGetContents } from "../funcs/folders-get-contents.js";
import { foldersUpdate } from "../funcs/folders-update.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as models from "../models/index.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class Folders extends ClientSDK {
  /**
   * Create root folder
   *
   * @remarks
   * Create a new folder at the root level of a knowledge base.<br><br>
   * <b>Required Permission:</b> FILEORGANIZER or higher<br><br>
   * <b>Folder Features:</b><br>
   * <ul>
   * <li>Organize records hierarchically</li>
   * <li>Support nested subfolders</li>
   * <li>Inherit parent KB permissions</li>
   * </ul>
   * <b>Naming Rules:</b><br>
   * <ul>
   * <li>1-255 characters</li>
   * <li>XSS protection applied</li>
   * <li>Can contain spaces and special characters</li>
   * </ul>
   */
  async create(
    request: operations.CreateRootFolderRequest,
    options?: RequestOptions,
  ): Promise<models.Folder> {
    return unwrapAsync(foldersCreate(
      this,
      request,
      options,
    ));
  }

  /**
   * Get folder contents
   *
   * @remarks
   * Retrieve the contents of a folder including subfolders and records.<br><br>
   * <b>Overview:</b><br>
   * Returns paginated list of records within the folder, with same filtering options as KB-level record listing.<br><br>
   * <b>Navigation:</b><br>
   * Use this endpoint to browse folder hierarchies. Response includes folder metadata and child items.
   */
  async getContents(
    request: operations.GetFolderContentsRequest,
    options?: RequestOptions,
  ): Promise<models.RecordsResponse> {
    return unwrapAsync(foldersGetContents(
      this,
      request,
      options,
    ));
  }

  /**
   * Update folder
   *
   * @remarks
   * Rename a folder.<br><br>
   * <b>Required Permission:</b> FILEORGANIZER or higher
   */
  async update(
    request: operations.UpdateFolderRequest,
    options?: RequestOptions,
  ): Promise<models.Folder> {
    return unwrapAsync(foldersUpdate(
      this,
      request,
      options,
    ));
  }

  /**
   * Delete folder
   *
   * @remarks
   * Delete a folder and all its contents.<br><br>
   * <b>Required Permission:</b> FILEORGANIZER or higher<br><br>
   * <b>Cascade Delete:</b><br>
   * All subfolders and records within will be permanently deleted.<br><br>
   * <b>Warning:</b> This action is irreversible.
   */
  async delete(
    request: operations.DeleteFolderRequest,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(foldersDelete(
      this,
      request,
      options,
    ));
  }

  /**
   * Create subfolder
   *
   * @remarks
   * Create a nested folder within an existing folder.<br><br>
   * <b>Required Permission:</b> FILEORGANIZER or higher<br><br>
   * <b>Nesting:</b><br>
   * Supports unlimited folder nesting depth for complex organizational structures.
   */
  async createSubfolder(
    request: operations.CreateSubfolderRequest,
    options?: RequestOptions,
  ): Promise<models.Folder> {
    return unwrapAsync(foldersCreateSubfolder(
      this,
      request,
      options,
    ));
  }
}

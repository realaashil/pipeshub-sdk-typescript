/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { connectorServiceCheckHealth } from "../funcs/connector-service-check-health.js";
import { connectorServiceConvertRecordBuffer } from "../funcs/connector-service-convert-record-buffer.js";
import { connectorServiceGetSignedUrl } from "../funcs/connector-service-get-signed-url.js";
import { connectorServiceGetStats } from "../funcs/connector-service-get-stats.js";
import { connectorServiceInternalStreamRecord } from "../funcs/connector-service-internal-stream-record.js";
import { connectorServicePostDrive } from "../funcs/connector-service-post-drive.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class ConnectorService extends ClientSDK {
  /**
   * [Connector Service] Health check
   *
   * @remarks
   * ⚠️ <b>INTERNAL SERVICE ENDPOINT</b><br><br>
   *
   * Health check endpoint for the Connector Service (Python FastAPI).<br><br>
   *
   * <b>Service:</b> Connector Service<br>
   * <b>Port:</b> 8088<br>
   * <b>Base URL:</b> <code>http://localhost:8088</code><br><br>
   *
   * <b>Authentication:</b> None required for health check<br><br>
   *
   * <b>Note:</b> This is the core internal service that manages all
   * data source connectors and OAuth flows.
   */
  async checkHealth(
    options?: RequestOptions,
  ): Promise<operations.ConnectorServiceHealthResponse> {
    return unwrapAsync(connectorServiceCheckHealth(
      this,
      options,
    ));
  }

  /**
   * [Connector Service] Google Drive webhook
   *
   * @remarks
   * ⚠️ <b>INTERNAL SERVICE ENDPOINT</b><br><br>
   *
   * Webhook endpoint for Google Drive push notifications.<br><br>
   *
   * <b>Service:</b> Connector Service<br>
   * <b>Port:</b> 8088<br>
   * <b>Base URL:</b> <code>http://localhost:8088</code><br><br>
   *
   * <b>Authentication:</b> None required - uses Google's push notification verification<br><br>
   *
   * <b>Note:</b> This endpoint receives real-time change notifications from
   * Google Drive when files are created, modified, or deleted.
   */
  async postDrive(
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(connectorServicePostDrive(
      this,
      options,
    ));
  }

  /**
   * [Connector Service] Internal stream record
   *
   * @remarks
   * ⚠️ <b>INTERNAL SERVICE ENDPOINT</b><br><br>
   *
   * Internal endpoint for streaming record content (service-to-service).<br><br>
   *
   * <b>Service:</b> Connector Service<br>
   * <b>Port:</b> 8088<br>
   * <b>Base URL:</b> <code>http://localhost:8088</code><br><br>
   *
   * <b>Authentication:</b> Requires scoped service token<br><br>
   *
   * <b>Use Case:</b> Used by Indexing Service to fetch file content for processing.
   */
  async internalStreamRecord(
    security: operations.ConnectorInternalStreamRecordSecurity,
    request: operations.ConnectorInternalStreamRecordRequest,
    options?: RequestOptions,
  ): Promise<ReadableStream<Uint8Array>> {
    return unwrapAsync(connectorServiceInternalStreamRecord(
      this,
      security,
      request,
      options,
    ));
  }

  /**
   * [Connector Service] Convert record buffer
   *
   * @remarks
   * ⚠️ <b>INTERNAL SERVICE ENDPOINT</b><br><br>
   *
   * Convert a record buffer to a different format.<br><br>
   *
   * <b>Service:</b> Connector Service<br>
   * <b>Port:</b> 8088<br>
   * <b>Base URL:</b> <code>http://localhost:8088</code><br><br>
   *
   * <b>Authentication:</b> Requires scoped service token<br><br>
   *
   * <b>Supported Conversions:</b> PDF to text, DOCX to text, etc.
   */
  async convertRecordBuffer(
    security: operations.ConnectorConvertRecordBufferSecurity,
    request: operations.ConnectorConvertRecordBufferRequest,
    options?: RequestOptions,
  ): Promise<ReadableStream<Uint8Array>> {
    return unwrapAsync(connectorServiceConvertRecordBuffer(
      this,
      security,
      request,
      options,
    ));
  }

  /**
   * [Connector Service] Get connector statistics
   *
   * @remarks
   * ⚠️ <b>INTERNAL SERVICE ENDPOINT</b><br><br>
   *
   * Get statistics for a specific connector.<br><br>
   *
   * <b>Service:</b> Connector Service<br>
   * <b>Port:</b> 8088<br>
   * <b>Base URL:</b> <code>http://localhost:8088</code><br><br>
   *
   * <b>Authentication:</b> Requires scoped service token
   */
  async getStats(
    security: operations.ConnectorGetStatsSecurity,
    request: operations.ConnectorGetStatsRequest,
    options?: RequestOptions,
  ): Promise<operations.ConnectorGetStatsResponse> {
    return unwrapAsync(connectorServiceGetStats(
      this,
      security,
      request,
      options,
    ));
  }

  /**
   * [Connector Service] Get signed URL for record
   *
   * @remarks
   * ⚠️ <b>INTERNAL SERVICE ENDPOINT</b><br><br>
   *
   * Get a signed URL for direct file access from the connector source.<br><br>
   *
   * <b>Service:</b> Connector Service<br>
   * <b>Port:</b> 8088<br>
   * <b>Base URL:</b> <code>http://localhost:8088</code><br><br>
   *
   * <b>Authentication:</b> Requires scoped service token<br><br>
   *
   * <b>Use Case:</b> Generate temporary signed URLs for file downloads from
   * Google Drive, OneDrive, SharePoint, etc.
   */
  async getSignedUrl(
    security: operations.ConnectorGetSignedUrlSecurity,
    request: operations.ConnectorGetSignedUrlRequest,
    options?: RequestOptions,
  ): Promise<operations.ConnectorGetSignedUrlResponse> {
    return unwrapAsync(connectorServiceGetSignedUrl(
      this,
      security,
      request,
      options,
    ));
  }
}

/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { teamsCreateTeam } from "../funcs/teams-create-team.js";
import { teamsDeleteTeam } from "../funcs/teams-delete-team.js";
import { teamsGetTeamById } from "../funcs/teams-get-team-by-id.js";
import { teamsGetUserTeams } from "../funcs/teams-get-user-teams.js";
import { teamsListTeams } from "../funcs/teams-list-teams.js";
import { teamsUpdateTeam } from "../funcs/teams-update-team.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class Teams extends ClientSDK {
  /**
   * Create a team
   *
   * @remarks
   * Create a new team within the organization for project collaboration and resource sharing.<br><br>
   * <b>Overview:</b><br>
   * Teams are collaborative units that group users together for specific projects, departments, or initiatives. Teams have their own resources, permissions, and member hierarchies.<br><br>
   * <b>Team Structure:</b><br>
   * <ul>
   * <li><b>Owner:</b> Creator of the team, full administrative control</li>
   * <li><b>Admins:</b> Can manage members and settings</li>
   * <li><b>Members:</b> Standard access to team resources</li>
   * <li><b>Viewers:</b> Read-only access</li>
   * </ul>
   * <b>What Gets Created:</b><br>
   * <ul>
   * <li>Team entity with unique identifier</li>
   * <li>Owner role automatically assigned to creator</li>
   * <li>Team workspace for shared resources</li>
   * <li>Default permission settings</li>
   * </ul>
   * <b>Initial Members:</b><br>
   * You can optionally add initial members with their roles during creation using the <code>userRoles</code> array.<br><br>
   * <b>Validation:</b><br>
   * <ul>
   * <li>Team name is required and must be unique in the org</li>
   * <li>Name: 1-100 characters</li>
   * <li>Description: Optional, max 500 characters</li>
   * </ul>
   */
  async createTeam(
    request: operations.CreateTeamRequest,
    options?: RequestOptions,
  ): Promise<operations.CreateTeamResponse> {
    return unwrapAsync(teamsCreateTeam(
      this,
      request,
      options,
    ));
  }

  /**
   * List teams
   *
   * @remarks
   * Retrieve all teams in the organization with optional search and pagination.<br><br>
   * <b>Overview:</b><br>
   * This endpoint returns teams the authenticated user can access. Admins see all teams; regular users see teams they're members of.<br><br>
   * <b>Response Data per Team:</b><br>
   * <ul>
   * <li>Team metadata (name, description)</li>
   * <li>Member count</li>
   * <li>Owner information</li>
   * <li>Creation timestamp</li>
   * </ul>
   * <b>Search:</b><br>
   * The search parameter performs fuzzy matching on team names and descriptions.<br><br>
   * <b>Visibility Rules:</b><br>
   * <ul>
   * <li><b>Admins:</b> See all organization teams</li>
   * <li><b>Users:</b> See only teams they belong to</li>
   * </ul>
   * <b>Sorting:</b><br>
   * Results are sorted by name alphabetically by default.
   */
  async listTeams(
    request?: operations.ListTeamsRequest | undefined,
    options?: RequestOptions,
  ): Promise<operations.ListTeamsResponse> {
    return unwrapAsync(teamsListTeams(
      this,
      request,
      options,
    ));
  }

  /**
   * Get team by ID
   *
   * @remarks
   * Retrieve detailed information about a specific team.<br><br>
   * <b>Overview:</b><br>
   * Returns complete team details including metadata, member list with roles, and resource information. Use this for team profile pages and detailed views.<br><br>
   * <b>Response Includes:</b><br>
   * <ul>
   * <li>Team metadata (name, description, slug)</li>
   * <li>Owner and creator information</li>
   * <li>Member count and list (with pagination)</li>
   * <li>Team settings and permissions</li>
   * <li>Creation and modification timestamps</li>
   * </ul>
   * <b>Authorization:</b><br>
   * <ul>
   * <li>Team members can view their team</li>
   * <li>Organization admins can view any team</li>
   * </ul>
   */
  async getTeamById(
    request: operations.GetTeamByIdRequest,
    options?: RequestOptions,
  ): Promise<operations.GetTeamByIdResponse> {
    return unwrapAsync(teamsGetTeamById(
      this,
      request,
      options,
    ));
  }

  /**
   * Update team
   *
   * @remarks
   * Update team metadata and settings.<br><br>
   * <b>Overview:</b><br>
   * This endpoint allows updating team properties like name and description. Member management is handled through separate endpoints.<br><br>
   * <b>Updatable Fields:</b><br>
   * <ul>
   * <li><code>name</code>: Team display name (must remain unique)</li>
   * <li><code>description</code>: Team description</li>
   * </ul>
   * <b>Authorization:</b><br>
   * <ul>
   * <li><b>Team Owner:</b> Full update access</li>
   * <li><b>Team Admin:</b> Can update name and description</li>
   * <li><b>Org Admin:</b> Can update any team</li>
   * </ul>
   * <b>Side Effects:</b><br>
   * <ul>
   * <li>Team update event published</li>
   * <li>Team slug may be regenerated if name changes</li>
   * <li>Cached team data invalidated</li>
   * </ul>
   */
  async updateTeam(
    request: operations.UpdateTeamRequest,
    options?: RequestOptions,
  ): Promise<operations.UpdateTeamResponse> {
    return unwrapAsync(teamsUpdateTeam(
      this,
      request,
      options,
    ));
  }

  /**
   * Delete team
   *
   * @remarks
   * Delete a team from the organization.<br><br>
   * <b>Behavior:</b><br>
   * <ul>
   * <li>Team is soft-deleted (isDeleted: true)</li>
   * <li>Team members lose access to team resources</li>
   * <li>Team can be restored by admin if needed</li>
   * </ul>
   * <b>Restrictions:</b><br>
   * <ul>
   * <li>Only team owner or organization admin can delete</li>
   * <li>Team must have no active resources (configurable)</li>
   * </ul>
   */
  async deleteTeam(
    request: operations.DeleteTeamRequest,
    options?: RequestOptions,
  ): Promise<operations.DeleteTeamResponse> {
    return unwrapAsync(teamsDeleteTeam(
      this,
      request,
      options,
    ));
  }

  /**
   * Get current user's teams
   *
   * @remarks
   * Retrieve all teams that the authenticated user is a member of.<br><br>
   * <b>Response Details:</b><br>
   * <ul>
   * <li>Includes teams where user is owner, admin, member, or viewer</li>
   * <li>Returns user's role in each team</li>
   * <li>Sorted by most recently accessed</li>
   * </ul>
   * <b>Use Cases:</b><br>
   * <ul>
   * <li>Populating team switcher in UI</li>
   * <li>Dashboard team list</li>
   * <li>Access control checks</li>
   * </ul>
   */
  async getUserTeams(
    request?: operations.GetUserTeamsRequest | undefined,
    options?: RequestOptions,
  ): Promise<operations.GetUserTeamsResponse> {
    return unwrapAsync(teamsGetUserTeams(
      this,
      request,
      options,
    ));
  }
}

/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { doclingServiceCreateBlocks } from "../funcs/docling-service-create-blocks.js";
import { doclingServiceHealthCheck } from "../funcs/docling-service-health-check.js";
import { doclingServiceParsePdf } from "../funcs/docling-service-parse-pdf.js";
import { doclingServiceProcessPdf } from "../funcs/docling-service-process-pdf.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class DoclingService extends ClientSDK {
  /**
   * [Docling Service] Health check
   *
   * @remarks
   * ⚠️ <b>INTERNAL SERVICE ENDPOINT</b><br><br>
   *
   * Health check endpoint for the Docling Service (Python FastAPI).<br><br>
   *
   * <b>Service:</b> Docling Service<br>
   * <b>Port:</b> 8081<br>
   * <b>Base URL:</b> <code>http://localhost:8081</code><br><br>
   *
   * <b>Authentication:</b> None required for health check<br><br>
   *
   * <b>Note:</b> This is an internal service used by the Indexing Service
   * for advanced document parsing. No user-facing endpoints.
   */
  async healthCheck(
    options?: RequestOptions,
  ): Promise<operations.DoclingServiceHealthResponse> {
    return unwrapAsync(doclingServiceHealthCheck(
      this,
      options,
    ));
  }

  /**
   * [Docling Service] Process PDF document
   *
   * @remarks
   * ⚠️ <b>INTERNAL SERVICE ENDPOINT</b><br><br>
   *
   * Full PDF processing endpoint - parses PDF and creates content blocks.<br><br>
   *
   * <b>Service:</b> Docling Service<br>
   * <b>Port:</b> 8081<br>
   * <b>Base URL:</b> <code>http://localhost:8081</code><br><br>
   *
   * <b>Authentication:</b> Internal only - called by Indexing Service<br><br>
   *
   * <b>Processing Steps:</b>
   * <ol>
   * <li>Decode base64 PDF binary</li>
   * <li>Parse document structure using Docling library</li>
   * <li>Extract text, tables, and images</li>
   * <li>Create content blocks for indexing</li>
   * </ol>
   *
   * <b>Timeout:</b> 40 minutes (for large documents)
   */
  async processPdf(
    request: operations.DoclingProcessPdfRequest,
    options?: RequestOptions,
  ): Promise<operations.DoclingProcessPdfResponse> {
    return unwrapAsync(doclingServiceProcessPdf(
      this,
      request,
      options,
    ));
  }

  /**
   * [Docling Service] Parse PDF (Phase 1)
   *
   * @remarks
   * ⚠️ <b>INTERNAL SERVICE ENDPOINT</b><br><br>
   *
   * Phase 1 of two-phase PDF processing - parse PDF without block creation.<br><br>
   *
   * <b>Service:</b> Docling Service<br>
   * <b>Port:</b> 8081<br>
   * <b>Base URL:</b> <code>http://localhost:8081</code><br><br>
   *
   * <b>Authentication:</b> Internal only - called by Indexing Service<br><br>
   *
   * <b>Note:</b> This endpoint only parses the PDF structure without making
   * LLM calls for table processing. Use <code>/create-blocks</code> for Phase 2.
   */
  async parsePdf(
    request: operations.DoclingParsePdfRequest,
    options?: RequestOptions,
  ): Promise<operations.DoclingParsePdfResponse> {
    return unwrapAsync(doclingServiceParsePdf(
      this,
      request,
      options,
    ));
  }

  /**
   * [Docling Service] Create blocks from parse result (Phase 2)
   *
   * @remarks
   * ⚠️ <b>INTERNAL SERVICE ENDPOINT</b><br><br>
   *
   * Phase 2 of two-phase PDF processing - create blocks from parse result.<br><br>
   *
   * <b>Service:</b> Docling Service<br>
   * <b>Port:</b> 8081<br>
   * <b>Base URL:</b> <code>http://localhost:8081</code><br><br>
   *
   * <b>Authentication:</b> Internal only - called by Indexing Service<br><br>
   *
   * <b>Note:</b> This endpoint creates content blocks from a previously parsed
   * PDF document. It may involve LLM calls for table processing.
   */
  async createBlocks(
    request: operations.DoclingCreateBlocksRequest,
    options?: RequestOptions,
  ): Promise<operations.DoclingCreateBlocksResponse> {
    return unwrapAsync(doclingServiceCreateBlocks(
      this,
      request,
      options,
    ));
  }
}

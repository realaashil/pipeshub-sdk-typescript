/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { permissionsCreateKBPermission } from "../funcs/permissions-create-kb-permission.js";
import { permissionsDeleteKBPermissions } from "../funcs/permissions-delete-kb-permissions.js";
import { permissionsListKBPermissions } from "../funcs/permissions-list-kb-permissions.js";
import { permissionsUpdateKBPermissions } from "../funcs/permissions-update-kb-permissions.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class Permissions extends ClientSDK {
  /**
   * Grant permissions
   *
   * @remarks
   * Grant access permissions to users or teams for a knowledge base.<br><br>
   * <b>Required Permission:</b> OWNER or ORGANIZER<br><br>
   * <b>Permission Roles (highest to lowest):</b><br>
   * <ol>
   * <li><b>OWNER:</b> Full control, can delete KB, manage all permissions</li>
   * <li><b>ORGANIZER:</b> Can manage permissions (except OWNER), edit KB settings</li>
   * <li><b>FILEORGANIZER:</b> Can create/delete folders, organize content</li>
   * <li><b>WRITER:</b> Can upload, edit, delete records</li>
   * <li><b>COMMENTER:</b> Can add comments (if supported)</li>
   * <li><b>READER:</b> View-only access</li>
   * </ol>
   * <b>Grant to Multiple:</b><br>
   * Provide arrays of userIds and/or teamIds to grant the same role to multiple entities.
   */
  async createKBPermission(
    request: operations.CreateKBPermissionRequest,
    options?: RequestOptions,
  ): Promise<operations.CreateKBPermissionResponse> {
    return unwrapAsync(permissionsCreateKBPermission(
      this,
      request,
      options,
    ));
  }

  /**
   * List permissions
   *
   * @remarks
   * Retrieve all permissions granted on a knowledge base.<br><br>
   * <b>Required Permission:</b> ORGANIZER or higher to see all permissions, others see only their own.
   */
  async listKBPermissions(
    request: operations.ListKBPermissionsRequest,
    options?: RequestOptions,
  ): Promise<operations.ListKBPermissionsResponse> {
    return unwrapAsync(permissionsListKBPermissions(
      this,
      request,
      options,
    ));
  }

  /**
   * Update permissions
   *
   * @remarks
   * Update permission roles for users or teams.<br><br>
   * <b>Required Permission:</b> OWNER or ORGANIZER
   */
  async updateKBPermissions(
    request: operations.UpdateKBPermissionsRequest,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(permissionsUpdateKBPermissions(
      this,
      request,
      options,
    ));
  }

  /**
   * Remove permissions
   *
   * @remarks
   * Remove access permissions from users or teams.<br><br>
   * <b>Required Permission:</b> OWNER or ORGANIZER<br><br>
   * <b>Note:</b> Cannot remove the last OWNER from a KB.
   */
  async deleteKBPermissions(
    request: operations.DeleteKBPermissionsRequest,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(permissionsDeleteKBPermissions(
      this,
      request,
      options,
    ));
  }
}

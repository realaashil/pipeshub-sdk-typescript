/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { connectorGetConnectorStats } from "../funcs/connector-get-connector-stats.js";
import { connectorReindexRecordGroup } from "../funcs/connector-reindex-record-group.js";
import { connectorReindexRecord } from "../funcs/connector-reindex-record.js";
import { connectorResyncConnector } from "../funcs/connector-resync-connector.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as models from "../models/index.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class Connector extends ClientSDK {
  /**
   * Reindex single record
   *
   * @remarks
   * Trigger reindexing for a specific record.<br><br>
   * <b>Overview:</b><br>
   * Reprocesses the record's content to update search indexes and AI embeddings. Useful after content changes or to fix indexing failures.<br><br>
   * <b>Depth Parameter:</b><br>
   * Controls processing depth for complex documents (-1 for full depth, 0-100 for limited).
   */
  async reindexRecord(
    request: operations.ReindexRecordRequest,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(connectorReindexRecord(
      this,
      request,
      options,
    ));
  }

  /**
   * Reindex record group
   *
   * @remarks
   * Trigger reindexing for all records in a folder or knowledge base.<br><br>
   * <b>Overview:</b><br>
   * Batch reindex operation for entire containers. The recordGroupId can be a folder ID or KB ID.
   */
  async reindexRecordGroup(
    request: operations.ReindexRecordGroupRequest,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(connectorReindexRecordGroup(
      this,
      request,
      options,
    ));
  }

  /**
   * Resync connector
   *
   * @remarks
   * Trigger a full resync of all records from a connector.<br><br>
   * <b>Overview:</b><br>
   * Fetches all content from the external source and updates local records. Use when you suspect data is out of sync.<br><br>
   * <b>Warning:</b> This can be resource-intensive for large connectors.
   */
  async resyncConnector(
    request: operations.ResyncConnectorRequest,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(connectorResyncConnector(
      this,
      request,
      options,
    ));
  }

  /**
   * Get connector statistics
   *
   * @remarks
   * Retrieve statistics for a specific connector including record counts, indexing status breakdown, and sync information.
   */
  async getConnectorStats(
    request: operations.GetConnectorStatsRequest,
    options?: RequestOptions,
  ): Promise<models.ConnectorStats> {
    return unwrapAsync(connectorGetConnectorStats(
      this,
      request,
      options,
    ));
  }
}

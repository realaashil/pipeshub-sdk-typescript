/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { connectorGetStats } from "../funcs/connector-get-stats.js";
import { connectorReindexFailed } from "../funcs/connector-reindex-failed.js";
import { connectorReindexRecordGroup } from "../funcs/connector-reindex-record-group.js";
import { connectorReindex } from "../funcs/connector-reindex.js";
import { connectorResync } from "../funcs/connector-resync.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as models from "../models/index.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class Connector extends ClientSDK {
  /**
   * Reindex single record
   *
   * @remarks
   * Trigger reindexing for a specific record.<br><br>
   * <b>Overview:</b><br>
   * Reprocesses the record's content to update search indexes and AI embeddings. Useful after content changes or to fix indexing failures.<br><br>
   * <b>Depth Parameter:</b><br>
   * Controls processing depth for complex documents (-1 for full depth, 0-100 for limited).
   */
  async reindex(
    request: operations.ReindexRecordRequest,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(connectorReindex(
      this,
      request,
      options,
    ));
  }

  /**
   * Reindex record group
   *
   * @remarks
   * Trigger reindexing for all records in a folder or knowledge base.<br><br>
   * <b>Overview:</b><br>
   * Batch reindex operation for entire containers. The recordGroupId can be a folder ID or KB ID.
   */
  async reindexRecordGroup(
    request: operations.ReindexRecordGroupRequest,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(connectorReindexRecordGroup(
      this,
      request,
      options,
    ));
  }

  /**
   * Reindex failed connector records
   *
   * @remarks
   * Retry indexing for all failed records from a specific connector.<br><br>
   * <b>Use Case:</b><br>
   * After fixing connectivity issues or configuration problems, use this to reprocess all records that failed during the initial sync.
   */
  async reindexFailed(
    request: operations.ReindexFailedConnectorRecordsRequest,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(connectorReindexFailed(
      this,
      request,
      options,
    ));
  }

  /**
   * Resync connector
   *
   * @remarks
   * Trigger a full resync of all records from a connector.<br><br>
   * <b>Overview:</b><br>
   * Fetches all content from the external source and updates local records. Use when you suspect data is out of sync.<br><br>
   * <b>Warning:</b> This can be resource-intensive for large connectors.
   */
  async resync(
    request: operations.ResyncConnectorRequest,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(connectorResync(
      this,
      request,
      options,
    ));
  }

  /**
   * Get connector statistics
   *
   * @remarks
   * Retrieve statistics for a specific connector including record counts, indexing status breakdown, and sync information.
   */
  async getStats(
    request: operations.GetConnectorStatsRequest,
    options?: RequestOptions,
  ): Promise<models.ConnectorStats> {
    return unwrapAsync(connectorGetStats(
      this,
      request,
      options,
    ));
  }
}

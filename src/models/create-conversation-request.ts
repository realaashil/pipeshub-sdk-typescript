/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import {
  Filters,
  Filters$Outbound,
  Filters$outboundSchema,
} from "./filters.js";

/**
 * Request body for creating a new AI conversation.<br><br>
 *
 * @remarks
 * <b>Query Processing:</b><br>
 * The query is processed through PipesHub's AI pipeline which:
 * <ul>
 * <li>Performs semantic search across indexed knowledge bases</li>
 * <li>Retrieves relevant context from matching documents</li>
 * <li>Generates a response with citations to source materials</li>
 * <li>Suggests follow-up questions based on the conversation</li>
 * </ul>
 */
export type CreateConversationRequest = {
  /**
   * The user's question or prompt to start the conversation.
   *
   * @remarks
   * Supports natural language queries of any complexity.
   */
  query: string;
  /**
   * Limit the AI's knowledge scope to specific records/documents.
   *
   * @remarks
   * When provided, only these records will be searched for context.
   */
  recordIds?: Array<string> | undefined;
  /**
   * Filter by department IDs to scope the search
   */
  departments?: Array<string> | undefined;
  filters?: Filters | undefined;
  /**
   * Identifier for the AI model configuration to use.
   *
   * @remarks
   * Available models depend on organization settings.
   */
  modelKey?: string | undefined;
  /**
   * Display name of the AI model
   */
  modelName?: string | undefined;
  /**
   * Chat mode affecting response behavior.
   *
   * @remarks
   * Different modes optimize for different use cases.
   */
  chatMode?: string | undefined;
};

/** @internal */
export type CreateConversationRequest$Outbound = {
  query: string;
  recordIds?: Array<string> | undefined;
  departments?: Array<string> | undefined;
  filters?: Filters$Outbound | undefined;
  modelKey?: string | undefined;
  modelName?: string | undefined;
  chatMode?: string | undefined;
};

/** @internal */
export const CreateConversationRequest$outboundSchema: z.ZodMiniType<
  CreateConversationRequest$Outbound,
  CreateConversationRequest
> = z.object({
  query: z.string(),
  recordIds: z.optional(z.array(z.string())),
  departments: z.optional(z.array(z.string())),
  filters: z.optional(Filters$outboundSchema),
  modelKey: z.optional(z.string()),
  modelName: z.optional(z.string()),
  chatMode: z.optional(z.string()),
});

export function createConversationRequestToJSON(
  createConversationRequest: CreateConversationRequest,
): string {
  return JSON.stringify(
    CreateConversationRequest$outboundSchema.parse(createConversationRequest),
  );
}

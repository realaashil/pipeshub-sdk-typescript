/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { safeParse } from "../lib/schemas.js";
import { Result as SafeParseResult } from "../types/fp.js";
import * as types from "../types/primitives.js";
import { SDKValidationError } from "./errors/sdk-validation-error.js";

/**
 * Run crawling job using a custom cron expression for complex schedules
 */
export type CustomScheduleConfig = {
  scheduleType: "custom";
  /**
   * Whether the schedule is active. Disabled schedules won't create new jobs.
   */
  isEnabled?: boolean | undefined;
  /**
   * IANA timezone identifier (e.g., "America/New_York", "Europe/London", "Asia/Tokyo")
   */
  timezone?: string | undefined;
  /**
   * Standard 5-field cron expression: minute hour day-of-month month day-of-week.<br>
   *
   * @remarks
   * Examples:<br>
   * <ul>
   * <li><code>0 2 * * *</code> - Every day at 2:00 AM</li>
   * <li><code>30 * /4 * * *</code> - Every 4 hours at minute 30</li>
   * <li><code>0 9 * * 1-5</code> - Weekdays at 9:00 AM</li>
   * <li><code>0 0 1,15 * *</code> - 1st and 15th of each month at midnight</li>
   * </ul>
   */
  cronExpression: string;
  /**
   * Human-readable description of the cron schedule
   */
  description?: string | undefined;
};

/** @internal */
export const CustomScheduleConfig$inboundSchema: z.ZodMiniType<
  CustomScheduleConfig,
  unknown
> = z.object({
  scheduleType: types.literal("custom"),
  isEnabled: z._default(types.boolean(), true),
  timezone: z._default(types.string(), "UTC"),
  cronExpression: types.string(),
  description: types.optional(types.string()),
});
/** @internal */
export type CustomScheduleConfig$Outbound = {
  scheduleType: "custom";
  isEnabled: boolean;
  timezone: string;
  cronExpression: string;
  description?: string | undefined;
};

/** @internal */
export const CustomScheduleConfig$outboundSchema: z.ZodMiniType<
  CustomScheduleConfig$Outbound,
  CustomScheduleConfig
> = z.object({
  scheduleType: z.literal("custom"),
  isEnabled: z._default(z.boolean(), true),
  timezone: z._default(z.string(), "UTC"),
  cronExpression: z.string(),
  description: z.optional(z.string()),
});

export function customScheduleConfigToJSON(
  customScheduleConfig: CustomScheduleConfig,
): string {
  return JSON.stringify(
    CustomScheduleConfig$outboundSchema.parse(customScheduleConfig),
  );
}
export function customScheduleConfigFromJSON(
  jsonString: string,
): SafeParseResult<CustomScheduleConfig, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => CustomScheduleConfig$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CustomScheduleConfig' from JSON`,
  );
}

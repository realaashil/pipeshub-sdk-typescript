/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import {
  Filters,
  Filters$Outbound,
  Filters$outboundSchema,
} from "./filters.js";

/**
 * Request body for performing semantic search across the enterprise knowledge base.<br><br>
 *
 * @remarks
 * <b>How Semantic Search Works:</b><br>
 * <ol>
 * <li>Query is converted to vector embeddings</li>
 * <li>Similar content is found using vector similarity</li>
 * <li>Results are ranked by relevance score</li>
 * <li>Matching chunks with metadata are returned</li>
 * </ol>
 * <b>Filtering:</b><br>
 * Use filters to narrow search scope to specific apps or knowledge bases.
 */
export type SemanticSearchRequest = {
  /**
   * Natural language search query. The system understands
   *
   * @remarks
   * semantic meaning, not just keywords.
   */
  query: string;
  filters?: Filters | undefined;
  /**
   * Maximum number of results to return
   */
  limit?: number | undefined;
  /**
   * AI model to use for embeddings
   */
  modelKey?: string | undefined;
  /**
   * Display name of the model
   */
  modelName?: string | undefined;
  /**
   * Processing mode configuration
   */
  chatMode?: string | undefined;
};

/** @internal */
export type SemanticSearchRequest$Outbound = {
  query: string;
  filters?: Filters$Outbound | undefined;
  limit: number;
  modelKey?: string | undefined;
  modelName?: string | undefined;
  chatMode?: string | undefined;
};

/** @internal */
export const SemanticSearchRequest$outboundSchema: z.ZodMiniType<
  SemanticSearchRequest$Outbound,
  SemanticSearchRequest
> = z.object({
  query: z.string(),
  filters: z.optional(Filters$outboundSchema),
  limit: z._default(z.int(), 10),
  modelKey: z.optional(z.string()),
  modelName: z.optional(z.string()),
  chatMode: z.optional(z.string()),
});

export function semanticSearchRequestToJSON(
  semanticSearchRequest: SemanticSearchRequest,
): string {
  return JSON.stringify(
    SemanticSearchRequest$outboundSchema.parse(semanticSearchRequest),
  );
}

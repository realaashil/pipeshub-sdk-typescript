/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { safeParse } from "../lib/schemas.js";
import { Result as SafeParseResult } from "../types/fp.js";
import * as types from "../types/primitives.js";
import { SDKValidationError } from "./errors/sdk-validation-error.js";

/**
 * OAuth credentials (admin-only view)
 */
export type OAuthConfigConfig = {
  clientId?: string | undefined;
  /**
   * Redacted for non-admin users
   */
  clientSecret?: string | undefined;
  /**
   * For Microsoft/Azure connectors
   */
  tenantId?: string | undefined;
};

/**
 * OAuth configuration for a connector type. Created by admins to enable
 *
 * @remarks
 * OAuth authentication for connectors.
 */
export type OAuthConfig = {
  /**
   * Unique configuration ID
   */
  configId?: string | undefined;
  /**
   * Connector type this config applies to
   */
  connectorType?: string | undefined;
  /**
   * Name for this OAuth configuration
   */
  oauthInstanceName?: string | undefined;
  orgId?: string | undefined;
  createdBy?: string | undefined;
  /**
   * OAuth credentials (admin-only view)
   */
  config?: OAuthConfigConfig | undefined;
  /**
   * Base URL for self-hosted instances
   */
  baseUrl?: string | undefined;
  createdAt?: Date | undefined;
  updatedAt?: Date | undefined;
};

/** @internal */
export const OAuthConfigConfig$inboundSchema: z.ZodMiniType<
  OAuthConfigConfig,
  unknown
> = z.object({
  clientId: types.optional(types.string()),
  clientSecret: types.optional(types.string()),
  tenantId: types.optional(types.string()),
});

export function oAuthConfigConfigFromJSON(
  jsonString: string,
): SafeParseResult<OAuthConfigConfig, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => OAuthConfigConfig$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'OAuthConfigConfig' from JSON`,
  );
}

/** @internal */
export const OAuthConfig$inboundSchema: z.ZodMiniType<OAuthConfig, unknown> = z
  .object({
    configId: types.optional(types.string()),
    connectorType: types.optional(types.string()),
    oauthInstanceName: types.optional(types.string()),
    orgId: types.optional(types.string()),
    createdBy: types.optional(types.string()),
    config: types.optional(z.lazy(() => OAuthConfigConfig$inboundSchema)),
    baseUrl: types.optional(types.string()),
    createdAt: types.optional(types.date()),
    updatedAt: types.optional(types.date()),
  });

export function oAuthConfigFromJSON(
  jsonString: string,
): SafeParseResult<OAuthConfig, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => OAuthConfig$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'OAuthConfig' from JSON`,
  );
}

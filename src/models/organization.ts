/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../lib/primitives.js";
import { safeParse } from "../lib/schemas.js";
import * as openEnums from "../types/enums.js";
import { OpenEnum } from "../types/enums.js";
import { Result as SafeParseResult } from "../types/fp.js";
import * as types from "../types/primitives.js";
import { SDKValidationError } from "./errors/sdk-validation-error.js";

/**
 * Type of account
 */
export const OrganizationAccountType = {
  Individual: "individual",
  Business: "business",
} as const;
/**
 * Type of account
 */
export type OrganizationAccountType = OpenEnum<typeof OrganizationAccountType>;

/**
 * Onboarding status
 */
export const OnBoardingStatus = {
  Configured: "configured",
  NotConfigured: "notConfigured",
  Skipped: "skipped",
} as const;
/**
 * Onboarding status
 */
export type OnBoardingStatus = OpenEnum<typeof OnBoardingStatus>;

export type Organization = {
  /**
   * Unique organization identifier
   */
  id?: string | undefined;
  /**
   * Unique slug for the organization
   */
  slug?: string | undefined;
  /**
   * Registered name
   */
  registeredName?: string | undefined;
  /**
   * Short name or display name
   */
  shortName?: string | undefined;
  /**
   * Organization domain
   */
  domain: string;
  /**
   * Contact email address
   */
  contactEmail: string;
  /**
   * Type of account
   */
  accountType: OrganizationAccountType;
  /**
   * Onboarding status
   */
  onBoardingStatus?: OnBoardingStatus | undefined;
  /**
   * Soft delete flag
   */
  isDeleted: boolean;
  /**
   * Creation timestamp
   */
  createdAt?: number | undefined;
  /**
   * Last update timestamp
   */
  updatedAt?: number | undefined;
};

/** @internal */
export const OrganizationAccountType$inboundSchema: z.ZodMiniType<
  OrganizationAccountType,
  unknown
> = openEnums.inboundSchema(OrganizationAccountType);

/** @internal */
export const OnBoardingStatus$inboundSchema: z.ZodMiniType<
  OnBoardingStatus,
  unknown
> = openEnums.inboundSchema(OnBoardingStatus);

/** @internal */
export const Organization$inboundSchema: z.ZodMiniType<Organization, unknown> =
  z.pipe(
    z.object({
      _id: types.optional(types.string()),
      slug: types.optional(types.string()),
      registeredName: types.optional(types.string()),
      shortName: types.optional(types.string()),
      domain: types.string(),
      contactEmail: types.string(),
      accountType: OrganizationAccountType$inboundSchema,
      onBoardingStatus: types.optional(OnBoardingStatus$inboundSchema),
      isDeleted: z._default(types.boolean(), false),
      createdAt: types.optional(types.number()),
      updatedAt: types.optional(types.number()),
    }),
    z.transform((v) => {
      return remap$(v, {
        "_id": "id",
      });
    }),
  );

export function organizationFromJSON(
  jsonString: string,
): SafeParseResult<Organization, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Organization$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Organization' from JSON`,
  );
}

/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../lib/primitives.js";
import { safeParse } from "../lib/schemas.js";
import { Result as SafeParseResult } from "../types/fp.js";
import * as types from "../types/primitives.js";
import { Address, Address$inboundSchema } from "./address.js";
import { SDKValidationError } from "./errors/sdk-validation-error.js";

/**
 * User account in an organization
 */
export type User = {
  /**
   * Unique user identifier (MongoDB ObjectId)
   */
  id?: string | undefined;
  /**
   * Unique slug for the user
   */
  slug?: string | undefined;
  /**
   * Organization ID the user belongs to
   */
  orgId: string;
  /**
   * Full name of the user
   */
  fullName?: string | undefined;
  /**
   * First name
   */
  firstName?: string | undefined;
  /**
   * Last name
   */
  lastName?: string | undefined;
  /**
   * Middle name
   */
  middleName?: string | undefined;
  /**
   * Email address (unique, lowercase)
   */
  email: string;
  /**
   * Mobile number (10-15 digits with optional +)
   */
  mobile?: string | undefined;
  /**
   * Whether user has logged in at least once
   */
  hasLoggedIn: boolean;
  /**
   * Job title/designation
   */
  designation?: string | undefined;
  address?: Address | undefined;
  /**
   * Whether user has consented to data collection
   */
  dataCollectionConsent?: boolean | undefined;
  /**
   * Soft delete flag
   */
  isDeleted: boolean;
  /**
   * ID of user who deleted this user
   */
  deletedBy?: string | undefined;
  /**
   * Document version (MongoDB)
   */
  v?: number | undefined;
  /**
   * Creation timestamp (ISO 8601)
   */
  createdAt?: Date | undefined;
  /**
   * Last update timestamp (ISO 8601)
   */
  updatedAt?: Date | undefined;
};

/** @internal */
export const User$inboundSchema: z.ZodMiniType<User, unknown> = z.pipe(
  z.object({
    _id: types.optional(types.string()),
    slug: types.optional(types.string()),
    orgId: types.string(),
    fullName: types.optional(types.string()),
    firstName: types.optional(types.string()),
    lastName: types.optional(types.string()),
    middleName: types.optional(types.string()),
    email: types.string(),
    mobile: types.optional(types.string()),
    hasLoggedIn: z._default(types.boolean(), false),
    designation: types.optional(types.string()),
    address: types.optional(Address$inboundSchema),
    dataCollectionConsent: types.optional(types.boolean()),
    isDeleted: z._default(types.boolean(), false),
    deletedBy: types.optional(types.string()),
    __v: types.optional(types.number()),
    createdAt: types.optional(types.date()),
    updatedAt: types.optional(types.date()),
  }),
  z.transform((v) => {
    return remap$(v, {
      "_id": "id",
      "__v": "v",
    });
  }),
);

export function userFromJSON(
  jsonString: string,
): SafeParseResult<User, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => User$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'User' from JSON`,
  );
}

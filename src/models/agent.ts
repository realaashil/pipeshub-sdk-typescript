/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { safeParse } from "../lib/schemas.js";
import { Result as SafeParseResult } from "../types/fp.js";
import * as types from "../types/primitives.js";
import { SDKValidationError } from "./errors/sdk-validation-error.js";

/**
 * AI model configuration
 */
export type ModelConfig = {
  modelKey?: string | undefined;
  temperature?: number | undefined;
  maxTokens?: number | undefined;
};

/**
 * A custom AI agent with specialized capabilities, tools, and knowledge scope.
 *
 * @remarks
 * Agents can be configured for specific use cases like customer support,
 * code review, or domain-specific Q&A.
 */
export type Agent = {
  /**
   * Unique identifier key for the agent
   */
  agentKey?: string | undefined;
  /**
   * Display name of the agent
   */
  name?: string | undefined;
  /**
   * What this agent is designed to do
   */
  description?: string | undefined;
  /**
   * System instructions that define agent behavior
   */
  systemPrompt?: string | undefined;
  /**
   * List of tool keys the agent can use
   */
  tools?: Array<string> | undefined;
  /**
   * Knowledge bases the agent has access to
   */
  knowledgeBases?: Array<string> | undefined;
  /**
   * AI model configuration
   */
  modelConfig?: ModelConfig | undefined;
  /**
   * Whether agent is available to all org users
   */
  isPublic?: boolean | undefined;
  createdBy?: string | undefined;
  orgId?: string | undefined;
  createdAt?: Date | undefined;
  updatedAt?: Date | undefined;
};

/** @internal */
export const ModelConfig$inboundSchema: z.ZodMiniType<ModelConfig, unknown> = z
  .object({
    modelKey: types.optional(types.string()),
    temperature: types.optional(types.number()),
    maxTokens: types.optional(types.number()),
  });

export function modelConfigFromJSON(
  jsonString: string,
): SafeParseResult<ModelConfig, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ModelConfig$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ModelConfig' from JSON`,
  );
}

/** @internal */
export const Agent$inboundSchema: z.ZodMiniType<Agent, unknown> = z.object({
  agentKey: types.optional(types.string()),
  name: types.optional(types.string()),
  description: types.optional(types.string()),
  systemPrompt: types.optional(types.string()),
  tools: types.optional(z.array(types.string())),
  knowledgeBases: types.optional(z.array(types.string())),
  modelConfig: types.optional(z.lazy(() => ModelConfig$inboundSchema)),
  isPublic: types.optional(types.boolean()),
  createdBy: types.optional(types.string()),
  orgId: types.optional(types.string()),
  createdAt: types.optional(types.date()),
  updatedAt: types.optional(types.date()),
});

export function agentFromJSON(
  jsonString: string,
): SafeParseResult<Agent, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Agent$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Agent' from JSON`,
  );
}

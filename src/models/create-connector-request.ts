/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { ClosedEnum } from "../types/enums.js";
import {
  ConnectorAuthConfig,
  ConnectorAuthConfig$Outbound,
  ConnectorAuthConfig$outboundSchema,
} from "./connector-auth-config.js";
import {
  ConnectorFiltersConfig,
  ConnectorFiltersConfig$Outbound,
  ConnectorFiltersConfig$outboundSchema,
} from "./connector-filters-config.js";
import {
  ConnectorScope,
  ConnectorScope$outboundSchema,
} from "./connector-scope.js";
import {
  ConnectorSyncConfig,
  ConnectorSyncConfig$Outbound,
  ConnectorSyncConfig$outboundSchema,
} from "./connector-sync-config.js";

/**
 * Authentication type (required if connector supports multiple auth methods)
 */
export const AuthType = {
  Oauth: "OAUTH",
  OauthAdminConsent: "OAUTH_ADMIN_CONSENT",
  ApiToken: "API_TOKEN",
  UsernamePassword: "USERNAME_PASSWORD",
  ServiceAccount: "SERVICE_ACCOUNT",
} as const;
/**
 * Authentication type (required if connector supports multiple auth methods)
 */
export type AuthType = ClosedEnum<typeof AuthType>;

/**
 * Initial configuration (can also be set after creation)
 */
export type CreateConnectorRequestConfig = {
  /**
   * Authentication configuration for a connector instance
   */
  auth?: ConnectorAuthConfig | undefined;
  /**
   * Synchronization configuration for a connector instance
   */
  sync?: ConnectorSyncConfig | undefined;
  /**
   * Filter configuration to control what data is synced (sync filters and indexing filters)
   */
  filters?: ConnectorFiltersConfig | undefined;
};

/**
 * Request to create a new connector instance
 */
export type CreateConnectorRequest = {
  /**
   * Connector type from registry (e.g., google-drive, confluence, slack)
   */
  connectorType: string;
  /**
   * Display name for this connector instance
   */
  instanceName: string;
  /**
   * Scope determines visibility and access control for connectors:<br>
   *
   * @remarks
   * <ul>
   * <li><code>team</code> - Available to all users in the organization (admin-only creation)</li>
   * <li><code>personal</code> - Private to the creating user only</li>
   * </ul>
   */
  scope: ConnectorScope;
  /**
   * Authentication type (required if connector supports multiple auth methods)
   */
  authType?: AuthType | undefined;
  /**
   * Initial configuration (can also be set after creation)
   */
  config?: CreateConnectorRequestConfig | undefined;
  /**
   * Base URL for self-hosted instances (e.g., Confluence Server, GitLab Self-Managed)
   */
  baseUrl?: string | undefined;
};

/** @internal */
export const AuthType$outboundSchema: z.ZodMiniEnum<typeof AuthType> = z.enum(
  AuthType,
);

/** @internal */
export type CreateConnectorRequestConfig$Outbound = {
  auth?: ConnectorAuthConfig$Outbound | undefined;
  sync?: ConnectorSyncConfig$Outbound | undefined;
  filters?: ConnectorFiltersConfig$Outbound | undefined;
};

/** @internal */
export const CreateConnectorRequestConfig$outboundSchema: z.ZodMiniType<
  CreateConnectorRequestConfig$Outbound,
  CreateConnectorRequestConfig
> = z.object({
  auth: z.optional(ConnectorAuthConfig$outboundSchema),
  sync: z.optional(ConnectorSyncConfig$outboundSchema),
  filters: z.optional(ConnectorFiltersConfig$outboundSchema),
});

export function createConnectorRequestConfigToJSON(
  createConnectorRequestConfig: CreateConnectorRequestConfig,
): string {
  return JSON.stringify(
    CreateConnectorRequestConfig$outboundSchema.parse(
      createConnectorRequestConfig,
    ),
  );
}

/** @internal */
export type CreateConnectorRequest$Outbound = {
  connectorType: string;
  instanceName: string;
  scope: string;
  authType?: string | undefined;
  config?: CreateConnectorRequestConfig$Outbound | undefined;
  baseUrl?: string | undefined;
};

/** @internal */
export const CreateConnectorRequest$outboundSchema: z.ZodMiniType<
  CreateConnectorRequest$Outbound,
  CreateConnectorRequest
> = z.object({
  connectorType: z.string(),
  instanceName: z.string(),
  scope: ConnectorScope$outboundSchema,
  authType: z.optional(AuthType$outboundSchema),
  config: z.optional(z.lazy(() => CreateConnectorRequestConfig$outboundSchema)),
  baseUrl: z.optional(z.string()),
});

export function createConnectorRequestToJSON(
  createConnectorRequest: CreateConnectorRequest,
): string {
  return JSON.stringify(
    CreateConnectorRequest$outboundSchema.parse(createConnectorRequest),
  );
}

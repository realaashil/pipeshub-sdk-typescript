/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { ClosedEnum } from "../../types/enums.js";

export const QueryServiceChatServerList = [
  /**
   * Query Service (Internal)
   */
  "http://localhost:8000",
] as const;

export const QueryServiceChatRole = {
  UserQuery: "user_query",
  BotResponse: "bot_response",
} as const;
export type QueryServiceChatRole = ClosedEnum<typeof QueryServiceChatRole>;

export type PreviousConversation = {
  role?: QueryServiceChatRole | undefined;
  content?: string | undefined;
};

export type QueryServiceChatFilters = {};

export const RetrievalMode = {
  Hybrid: "HYBRID",
  Vector: "VECTOR",
  Keyword: "KEYWORD",
} as const;
export type RetrievalMode = ClosedEnum<typeof RetrievalMode>;

export const ChatMode = {
  Quick: "quick",
  Analysis: "analysis",
  DeepResearch: "deep_research",
  Creative: "creative",
  Precise: "precise",
  Standard: "standard",
} as const;
export type ChatMode = ClosedEnum<typeof ChatMode>;

/**
 * Request payload
 */
export type QueryServiceChatRequest = {
  /**
   * User's question
   */
  query: string;
  limit?: number | undefined;
  previousConversations?: Array<PreviousConversation> | undefined;
  filters?: QueryServiceChatFilters | undefined;
  retrievalMode?: RetrievalMode | undefined;
  quickMode?: boolean | undefined;
  /**
   * UUID of the model configuration
   */
  modelKey?: string | undefined;
  /**
   * Model name (e.g., gpt-4o-mini, claude-3-5-sonnet)
   */
  modelName?: string | undefined;
  chatMode?: ChatMode | undefined;
};

/** @internal */
export const QueryServiceChatRole$outboundSchema: z.ZodMiniEnum<
  typeof QueryServiceChatRole
> = z.enum(QueryServiceChatRole);

/** @internal */
export type PreviousConversation$Outbound = {
  role?: string | undefined;
  content?: string | undefined;
};

/** @internal */
export const PreviousConversation$outboundSchema: z.ZodMiniType<
  PreviousConversation$Outbound,
  PreviousConversation
> = z.object({
  role: z.optional(QueryServiceChatRole$outboundSchema),
  content: z.optional(z.string()),
});

export function previousConversationToJSON(
  previousConversation: PreviousConversation,
): string {
  return JSON.stringify(
    PreviousConversation$outboundSchema.parse(previousConversation),
  );
}

/** @internal */
export type QueryServiceChatFilters$Outbound = {};

/** @internal */
export const QueryServiceChatFilters$outboundSchema: z.ZodMiniType<
  QueryServiceChatFilters$Outbound,
  QueryServiceChatFilters
> = z.object({});

export function queryServiceChatFiltersToJSON(
  queryServiceChatFilters: QueryServiceChatFilters,
): string {
  return JSON.stringify(
    QueryServiceChatFilters$outboundSchema.parse(queryServiceChatFilters),
  );
}

/** @internal */
export const RetrievalMode$outboundSchema: z.ZodMiniEnum<typeof RetrievalMode> =
  z.enum(RetrievalMode);

/** @internal */
export const ChatMode$outboundSchema: z.ZodMiniEnum<typeof ChatMode> = z.enum(
  ChatMode,
);

/** @internal */
export type QueryServiceChatRequest$Outbound = {
  query: string;
  limit: number;
  previousConversations?: Array<PreviousConversation$Outbound> | undefined;
  filters?: QueryServiceChatFilters$Outbound | undefined;
  retrievalMode: string;
  quickMode: boolean;
  modelKey?: string | undefined;
  modelName?: string | undefined;
  chatMode: string;
};

/** @internal */
export const QueryServiceChatRequest$outboundSchema: z.ZodMiniType<
  QueryServiceChatRequest$Outbound,
  QueryServiceChatRequest
> = z.object({
  query: z.string(),
  limit: z._default(z.int(), 50),
  previousConversations: z.optional(
    z.array(z.lazy(() => PreviousConversation$outboundSchema)),
  ),
  filters: z.optional(z.lazy(() => QueryServiceChatFilters$outboundSchema)),
  retrievalMode: z._default(RetrievalMode$outboundSchema, "HYBRID"),
  quickMode: z._default(z.boolean(), false),
  modelKey: z.optional(z.string()),
  modelName: z.optional(z.string()),
  chatMode: z._default(ChatMode$outboundSchema, "standard"),
});

export function queryServiceChatRequestToJSON(
  queryServiceChatRequest: QueryServiceChatRequest,
): string {
  return JSON.stringify(
    QueryServiceChatRequest$outboundSchema.parse(queryServiceChatRequest),
  );
}

/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { safeParse } from "../../lib/schemas.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import * as types from "../../types/primitives.js";
import { SDKValidationError } from "../errors/sdk-validation-error.js";

/**
 * Action to perform on the step
 */
export const Action = {
  Complete: "complete",
  Skip: "skip",
} as const;
/**
 * Action to perform on the step
 */
export type Action = ClosedEnum<typeof Action>;

/**
 * Request payload
 */
export type UpdateOnboardingStatusRequest = {
  /**
   * ID of the step to update
   */
  stepId: string;
  /**
   * Action to perform on the step
   */
  action: Action;
};

/**
 * Onboarding status updated successfully
 */
export type UpdateOnboardingStatusResponse = {
  success?: boolean | undefined;
  message?: string | undefined;
  /**
   * Whether all onboarding is now complete
   */
  isOnboardingComplete?: boolean | undefined;
  /**
   * Next step to complete (null if done)
   */
  nextStep?: string | undefined;
};

/** @internal */
export const Action$outboundSchema: z.ZodMiniEnum<typeof Action> = z.enum(
  Action,
);

/** @internal */
export type UpdateOnboardingStatusRequest$Outbound = {
  stepId: string;
  action: string;
};

/** @internal */
export const UpdateOnboardingStatusRequest$outboundSchema: z.ZodMiniType<
  UpdateOnboardingStatusRequest$Outbound,
  UpdateOnboardingStatusRequest
> = z.object({
  stepId: z.string(),
  action: Action$outboundSchema,
});

export function updateOnboardingStatusRequestToJSON(
  updateOnboardingStatusRequest: UpdateOnboardingStatusRequest,
): string {
  return JSON.stringify(
    UpdateOnboardingStatusRequest$outboundSchema.parse(
      updateOnboardingStatusRequest,
    ),
  );
}

/** @internal */
export const UpdateOnboardingStatusResponse$inboundSchema: z.ZodMiniType<
  UpdateOnboardingStatusResponse,
  unknown
> = z.object({
  success: types.optional(types.boolean()),
  message: types.optional(types.string()),
  isOnboardingComplete: types.optional(types.boolean()),
  nextStep: types.optional(types.string()),
});

export function updateOnboardingStatusResponseFromJSON(
  jsonString: string,
): SafeParseResult<UpdateOnboardingStatusResponse, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => UpdateOnboardingStatusResponse$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'UpdateOnboardingStatusResponse' from JSON`,
  );
}

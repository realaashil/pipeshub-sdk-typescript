/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { blobLikeSchema } from "../../types/blobs.js";
import { ClosedEnum } from "../../types/enums.js";

/**
 * Type: 'business' for service account, 'individual' for user OAuth
 */
export const UserType = {
  Individual: "individual",
  Business: "business",
} as const;
/**
 * Type: 'business' for service account, 'individual' for user OAuth
 */
export type UserType = ClosedEnum<typeof UserType>;

export type GoogleWorkspaceCredentials = {
  fileName: string;
  content: ReadableStream<Uint8Array> | Blob | ArrayBuffer | Uint8Array;
};

/**
 * Request body for Upload Google Workspace credentials
 */
export type CreateGoogleWorkspaceCredentialsRequest = {
  /**
   * Type: 'business' for service account, 'individual' for user OAuth
   */
  userType: UserType;
  /**
   * JSON credentials file
   */
  googleWorkspaceCredentials: GoogleWorkspaceCredentials | Blob;
};

/** @internal */
export const UserType$outboundSchema: z.ZodMiniEnum<typeof UserType> = z.enum(
  UserType,
);

/** @internal */
export type GoogleWorkspaceCredentials$Outbound = {
  fileName: string;
  content: ReadableStream<Uint8Array> | Blob | ArrayBuffer | Uint8Array;
};

/** @internal */
export const GoogleWorkspaceCredentials$outboundSchema: z.ZodMiniType<
  GoogleWorkspaceCredentials$Outbound,
  GoogleWorkspaceCredentials
> = z.object({
  fileName: z.string(),
  content: z.union([
    z.custom<ReadableStream<Uint8Array>>(x => x instanceof ReadableStream),
    z.custom<Blob>(x => x instanceof Blob),
    z.custom<ArrayBuffer>(x => x instanceof ArrayBuffer),
    z.custom<Uint8Array>(x => x instanceof Uint8Array),
  ]),
});

export function googleWorkspaceCredentialsToJSON(
  googleWorkspaceCredentials: GoogleWorkspaceCredentials,
): string {
  return JSON.stringify(
    GoogleWorkspaceCredentials$outboundSchema.parse(googleWorkspaceCredentials),
  );
}

/** @internal */
export type CreateGoogleWorkspaceCredentialsRequest$Outbound = {
  userType: string;
  googleWorkspaceCredentials: GoogleWorkspaceCredentials$Outbound | Blob;
};

/** @internal */
export const CreateGoogleWorkspaceCredentialsRequest$outboundSchema:
  z.ZodMiniType<
    CreateGoogleWorkspaceCredentialsRequest$Outbound,
    CreateGoogleWorkspaceCredentialsRequest
  > = z.object({
    userType: UserType$outboundSchema,
    googleWorkspaceCredentials: z.union([
      z.lazy(() => GoogleWorkspaceCredentials$outboundSchema),
      blobLikeSchema,
    ]),
  });

export function createGoogleWorkspaceCredentialsRequestToJSON(
  createGoogleWorkspaceCredentialsRequest:
    CreateGoogleWorkspaceCredentialsRequest,
): string {
  return JSON.stringify(
    CreateGoogleWorkspaceCredentialsRequest$outboundSchema.parse(
      createGoogleWorkspaceCredentialsRequest,
    ),
  );
}

/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { safeParse } from "../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import * as types from "../../types/primitives.js";
import { SDKValidationError } from "../errors/sdk-validation-error.js";
import * as models from "../index.js";

export type ListKBPermissionsRequest = {
  kbId: string;
};

/**
 * Permissions list retrieved
 */
export type ListKBPermissionsResponse = {
  kbId?: string | undefined;
  permissions?: Array<models.KBPermission> | undefined;
  totalCount?: number | undefined;
};

/** @internal */
export type ListKBPermissionsRequest$Outbound = {
  kbId: string;
};

/** @internal */
export const ListKBPermissionsRequest$outboundSchema: z.ZodMiniType<
  ListKBPermissionsRequest$Outbound,
  ListKBPermissionsRequest
> = z.object({
  kbId: z.string(),
});

export function listKBPermissionsRequestToJSON(
  listKBPermissionsRequest: ListKBPermissionsRequest,
): string {
  return JSON.stringify(
    ListKBPermissionsRequest$outboundSchema.parse(listKBPermissionsRequest),
  );
}

/** @internal */
export const ListKBPermissionsResponse$inboundSchema: z.ZodMiniType<
  ListKBPermissionsResponse,
  unknown
> = z.object({
  kbId: types.optional(types.string()),
  permissions: types.optional(z.array(models.KBPermission$inboundSchema)),
  totalCount: types.optional(types.number()),
});

export function listKBPermissionsResponseFromJSON(
  jsonString: string,
): SafeParseResult<ListKBPermissionsResponse, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ListKBPermissionsResponse$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ListKBPermissionsResponse' from JSON`,
  );
}

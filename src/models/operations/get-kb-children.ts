/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { safeParse } from "../../lib/schemas.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import * as types from "../../types/primitives.js";
import { SDKValidationError } from "../errors/sdk-validation-error.js";
import * as models from "../index.js";

export const GetKBChildrenSortOrder = {
  Asc: "asc",
  Desc: "desc",
} as const;
export type GetKBChildrenSortOrder = ClosedEnum<typeof GetKBChildrenSortOrder>;

export type GetKBChildrenRequest = {
  /**
   * Knowledge base ID
   */
  kbId: string;
  page?: number | undefined;
  limit?: number | undefined;
  /**
   * Search query for record names
   */
  search?: string | undefined;
  /**
   * Filter by record types (comma-separated)
   */
  recordTypes?: string | undefined;
  /**
   * Filter by origin
   */
  origins?: string | undefined;
  /**
   * Filter by indexing status
   */
  indexingStatus?: string | undefined;
  /**
   * Start date filter (Unix timestamp)
   */
  dateFrom?: number | undefined;
  /**
   * End date filter (Unix timestamp)
   */
  dateTo?: number | undefined;
  sortBy?: string | undefined;
  sortOrder?: GetKBChildrenSortOrder | undefined;
};

export type GetKBChildrenContainer = {
  id?: string | undefined;
  name?: string | undefined;
  path?: string | undefined;
  type?: string | undefined;
  webUrl?: string | undefined;
  recordGroupId?: string | undefined;
};

export type GetKBChildrenCounts = {
  folders?: number | undefined;
  records?: number | undefined;
  totalItems?: number | undefined;
  totalFolders?: number | undefined;
  totalRecords?: number | undefined;
};

export type GetKBChildrenAvailableFilters = {};

export type GetKBChildrenUserPermission = {
  role?: string | undefined;
  canUpload?: boolean | undefined;
  canCreateFolders?: boolean | undefined;
  canEdit?: boolean | undefined;
  canDelete?: boolean | undefined;
  canManagePermissions?: boolean | undefined;
};

export type GetKBChildrenPagination = {
  page?: number | undefined;
  limit?: number | undefined;
  totalItems?: number | undefined;
  totalPages?: number | undefined;
  hasNext?: boolean | undefined;
  hasPrev?: boolean | undefined;
};

/**
 * Applied and available filters
 */
export type GetKBChildrenFilters = {};

/**
 * Successful operation
 */
export type GetKBChildrenResponse = {
  success?: boolean | undefined;
  container?: GetKBChildrenContainer | undefined;
  folders?: Array<models.Folder> | undefined;
  records?: Array<models.RecordT> | undefined;
  level?: number | undefined;
  totalCount?: number | undefined;
  counts?: GetKBChildrenCounts | undefined;
  availableFilters?: GetKBChildrenAvailableFilters | undefined;
  paginationMode?: string | undefined;
  userPermission?: GetKBChildrenUserPermission | undefined;
  pagination?: GetKBChildrenPagination | undefined;
  /**
   * Applied and available filters
   */
  filters?: GetKBChildrenFilters | undefined;
};

/** @internal */
export const GetKBChildrenSortOrder$outboundSchema: z.ZodMiniEnum<
  typeof GetKBChildrenSortOrder
> = z.enum(GetKBChildrenSortOrder);

/** @internal */
export type GetKBChildrenRequest$Outbound = {
  kbId: string;
  page: number;
  limit: number;
  search?: string | undefined;
  recordTypes?: string | undefined;
  origins?: string | undefined;
  indexingStatus?: string | undefined;
  dateFrom?: number | undefined;
  dateTo?: number | undefined;
  sortBy: string;
  sortOrder: string;
};

/** @internal */
export const GetKBChildrenRequest$outboundSchema: z.ZodMiniType<
  GetKBChildrenRequest$Outbound,
  GetKBChildrenRequest
> = z.object({
  kbId: z.string(),
  page: z._default(z.int(), 1),
  limit: z._default(z.int(), 20),
  search: z.optional(z.string()),
  recordTypes: z.optional(z.string()),
  origins: z.optional(z.string()),
  indexingStatus: z.optional(z.string()),
  dateFrom: z.optional(z.int()),
  dateTo: z.optional(z.int()),
  sortBy: z._default(z.string(), "createdAtTimestamp"),
  sortOrder: z._default(GetKBChildrenSortOrder$outboundSchema, "desc"),
});

export function getKBChildrenRequestToJSON(
  getKBChildrenRequest: GetKBChildrenRequest,
): string {
  return JSON.stringify(
    GetKBChildrenRequest$outboundSchema.parse(getKBChildrenRequest),
  );
}

/** @internal */
export const GetKBChildrenContainer$inboundSchema: z.ZodMiniType<
  GetKBChildrenContainer,
  unknown
> = z.object({
  id: types.optional(types.string()),
  name: types.optional(types.string()),
  path: types.optional(types.string()),
  type: types.optional(types.string()),
  webUrl: types.optional(types.string()),
  recordGroupId: types.optional(types.string()),
});

export function getKBChildrenContainerFromJSON(
  jsonString: string,
): SafeParseResult<GetKBChildrenContainer, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => GetKBChildrenContainer$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'GetKBChildrenContainer' from JSON`,
  );
}

/** @internal */
export const GetKBChildrenCounts$inboundSchema: z.ZodMiniType<
  GetKBChildrenCounts,
  unknown
> = z.object({
  folders: types.optional(types.number()),
  records: types.optional(types.number()),
  totalItems: types.optional(types.number()),
  totalFolders: types.optional(types.number()),
  totalRecords: types.optional(types.number()),
});

export function getKBChildrenCountsFromJSON(
  jsonString: string,
): SafeParseResult<GetKBChildrenCounts, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => GetKBChildrenCounts$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'GetKBChildrenCounts' from JSON`,
  );
}

/** @internal */
export const GetKBChildrenAvailableFilters$inboundSchema: z.ZodMiniType<
  GetKBChildrenAvailableFilters,
  unknown
> = z.object({});

export function getKBChildrenAvailableFiltersFromJSON(
  jsonString: string,
): SafeParseResult<GetKBChildrenAvailableFilters, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => GetKBChildrenAvailableFilters$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'GetKBChildrenAvailableFilters' from JSON`,
  );
}

/** @internal */
export const GetKBChildrenUserPermission$inboundSchema: z.ZodMiniType<
  GetKBChildrenUserPermission,
  unknown
> = z.object({
  role: types.optional(types.string()),
  canUpload: types.optional(types.boolean()),
  canCreateFolders: types.optional(types.boolean()),
  canEdit: types.optional(types.boolean()),
  canDelete: types.optional(types.boolean()),
  canManagePermissions: types.optional(types.boolean()),
});

export function getKBChildrenUserPermissionFromJSON(
  jsonString: string,
): SafeParseResult<GetKBChildrenUserPermission, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => GetKBChildrenUserPermission$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'GetKBChildrenUserPermission' from JSON`,
  );
}

/** @internal */
export const GetKBChildrenPagination$inboundSchema: z.ZodMiniType<
  GetKBChildrenPagination,
  unknown
> = z.object({
  page: types.optional(types.number()),
  limit: types.optional(types.number()),
  totalItems: types.optional(types.number()),
  totalPages: types.optional(types.number()),
  hasNext: types.optional(types.boolean()),
  hasPrev: types.optional(types.boolean()),
});

export function getKBChildrenPaginationFromJSON(
  jsonString: string,
): SafeParseResult<GetKBChildrenPagination, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => GetKBChildrenPagination$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'GetKBChildrenPagination' from JSON`,
  );
}

/** @internal */
export const GetKBChildrenFilters$inboundSchema: z.ZodMiniType<
  GetKBChildrenFilters,
  unknown
> = z.object({});

export function getKBChildrenFiltersFromJSON(
  jsonString: string,
): SafeParseResult<GetKBChildrenFilters, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => GetKBChildrenFilters$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'GetKBChildrenFilters' from JSON`,
  );
}

/** @internal */
export const GetKBChildrenResponse$inboundSchema: z.ZodMiniType<
  GetKBChildrenResponse,
  unknown
> = z.object({
  success: types.optional(types.boolean()),
  container: types.optional(z.lazy(() => GetKBChildrenContainer$inboundSchema)),
  folders: types.optional(z.array(models.Folder$inboundSchema)),
  records: types.optional(z.array(models.RecordT$inboundSchema)),
  level: types.optional(types.number()),
  totalCount: types.optional(types.number()),
  counts: types.optional(z.lazy(() => GetKBChildrenCounts$inboundSchema)),
  availableFilters: types.optional(
    z.lazy(() => GetKBChildrenAvailableFilters$inboundSchema),
  ),
  paginationMode: types.optional(types.string()),
  userPermission: types.optional(
    z.lazy(() => GetKBChildrenUserPermission$inboundSchema),
  ),
  pagination: types.optional(
    z.lazy(() => GetKBChildrenPagination$inboundSchema),
  ),
  filters: types.optional(z.lazy(() => GetKBChildrenFilters$inboundSchema)),
});

export function getKBChildrenResponseFromJSON(
  jsonString: string,
): SafeParseResult<GetKBChildrenResponse, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => GetKBChildrenResponse$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'GetKBChildrenResponse' from JSON`,
  );
}

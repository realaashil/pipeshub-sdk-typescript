/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";

export type UploadRecordsToFolderFile = {
  fileName: string;
  content: ReadableStream<Uint8Array> | Blob | ArrayBuffer | Uint8Array;
};

/**
 * Request payload
 */
export type UploadRecordsToFolderRequestBody = {
  files: Array<UploadRecordsToFolderFile>;
  /**
   * JSON array with file metadata
   */
  filesMetadata?: string | undefined;
  isVersioned?: boolean | undefined;
};

export type UploadRecordsToFolderRequest = {
  kbId: string;
  /**
   * Target folder ID
   */
  folderId: string;
  /**
   * Request payload
   */
  body: UploadRecordsToFolderRequestBody;
};

/** @internal */
export type UploadRecordsToFolderFile$Outbound = {
  fileName: string;
  content: ReadableStream<Uint8Array> | Blob | ArrayBuffer | Uint8Array;
};

/** @internal */
export const UploadRecordsToFolderFile$outboundSchema: z.ZodMiniType<
  UploadRecordsToFolderFile$Outbound,
  UploadRecordsToFolderFile
> = z.object({
  fileName: z.string(),
  content: z.union([
    z.custom<ReadableStream<Uint8Array>>(x => x instanceof ReadableStream),
    z.custom<Blob>(x => x instanceof Blob),
    z.custom<ArrayBuffer>(x => x instanceof ArrayBuffer),
    z.custom<Uint8Array>(x => x instanceof Uint8Array),
  ]),
});

export function uploadRecordsToFolderFileToJSON(
  uploadRecordsToFolderFile: UploadRecordsToFolderFile,
): string {
  return JSON.stringify(
    UploadRecordsToFolderFile$outboundSchema.parse(uploadRecordsToFolderFile),
  );
}

/** @internal */
export type UploadRecordsToFolderRequestBody$Outbound = {
  files: Array<UploadRecordsToFolderFile$Outbound>;
  files_metadata?: string | undefined;
  isVersioned: boolean;
};

/** @internal */
export const UploadRecordsToFolderRequestBody$outboundSchema: z.ZodMiniType<
  UploadRecordsToFolderRequestBody$Outbound,
  UploadRecordsToFolderRequestBody
> = z.pipe(
  z.object({
    files: z.array(z.lazy(() => UploadRecordsToFolderFile$outboundSchema)),
    filesMetadata: z.optional(z.string()),
    isVersioned: z._default(z.boolean(), true),
  }),
  z.transform((v) => {
    return remap$(v, {
      filesMetadata: "files_metadata",
    });
  }),
);

export function uploadRecordsToFolderRequestBodyToJSON(
  uploadRecordsToFolderRequestBody: UploadRecordsToFolderRequestBody,
): string {
  return JSON.stringify(
    UploadRecordsToFolderRequestBody$outboundSchema.parse(
      uploadRecordsToFolderRequestBody,
    ),
  );
}

/** @internal */
export type UploadRecordsToFolderRequest$Outbound = {
  kbId: string;
  folderId: string;
  body: UploadRecordsToFolderRequestBody$Outbound;
};

/** @internal */
export const UploadRecordsToFolderRequest$outboundSchema: z.ZodMiniType<
  UploadRecordsToFolderRequest$Outbound,
  UploadRecordsToFolderRequest
> = z.object({
  kbId: z.string(),
  folderId: z.string(),
  body: z.lazy(() => UploadRecordsToFolderRequestBody$outboundSchema),
});

export function uploadRecordsToFolderRequestToJSON(
  uploadRecordsToFolderRequest: UploadRecordsToFolderRequest,
): string {
  return JSON.stringify(
    UploadRecordsToFolderRequest$outboundSchema.parse(
      uploadRecordsToFolderRequest,
    ),
  );
}

// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"encoding/json"
	"fmt"
	"mockserver/internal/sdk/utils"
)

// SelectedStrategy - Sync strategy: MANUAL (user-triggered), SCHEDULED (interval/cron), WEBHOOK (event-driven), REALTIME (WebSocket)
type SelectedStrategy string

const (
	SelectedStrategyManual    SelectedStrategy = "MANUAL"
	SelectedStrategyScheduled SelectedStrategy = "SCHEDULED"
	SelectedStrategyWebhook   SelectedStrategy = "WEBHOOK"
	SelectedStrategyRealtime  SelectedStrategy = "REALTIME"
)

func (e SelectedStrategy) ToPointer() *SelectedStrategy {
	return &e
}
func (e *SelectedStrategy) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "MANUAL":
		fallthrough
	case "SCHEDULED":
		fallthrough
	case "WEBHOOK":
		fallthrough
	case "REALTIME":
		*e = SelectedStrategy(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SelectedStrategy: %v", v)
	}
}

// ScheduledConfig - Configuration for scheduled sync strategy
type ScheduledConfig struct {
	// Sync interval in minutes
	IntervalMinutes *int64 `default:"60" json:"intervalMinutes"`
	// Cron expression for advanced scheduling
	CronExpression *string `json:"cronExpression,omitempty"`
	// Timezone for scheduled sync
	Timezone *string `default:"UTC" json:"timezone"`
}

func (s ScheduledConfig) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(s, "", false)
}

func (s *ScheduledConfig) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &s, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (o *ScheduledConfig) GetIntervalMinutes() *int64 {
	if o == nil {
		return nil
	}
	return o.IntervalMinutes
}

func (o *ScheduledConfig) GetCronExpression() *string {
	if o == nil {
		return nil
	}
	return o.CronExpression
}

func (o *ScheduledConfig) GetTimezone() *string {
	if o == nil {
		return nil
	}
	return o.Timezone
}

// WebhookConfig - Configuration for webhook-based sync
type WebhookConfig struct {
	// URL to receive webhook events (auto-generated)
	WebhookURL *string `json:"webhookUrl,omitempty"`
	// Subscribed event types
	Events []string `json:"events,omitempty"`
}

func (o *WebhookConfig) GetWebhookURL() *string {
	if o == nil {
		return nil
	}
	return o.WebhookURL
}

func (o *WebhookConfig) GetEvents() []string {
	if o == nil {
		return nil
	}
	return o.Events
}

// ConnectorSyncConfig - Synchronization configuration for a connector instance
type ConnectorSyncConfig struct {
	// Sync strategy: MANUAL (user-triggered), SCHEDULED (interval/cron), WEBHOOK (event-driven), REALTIME (WebSocket)
	SelectedStrategy *SelectedStrategy `default:"MANUAL" json:"selectedStrategy"`
	// Configuration for scheduled sync strategy
	ScheduledConfig *ScheduledConfig `json:"scheduledConfig,omitempty"`
	// Configuration for webhook-based sync
	WebhookConfig *WebhookConfig `json:"webhookConfig,omitempty"`
	// Sync setting values specific to the connector
	Values map[string]any `json:"values,omitempty"`
	// Custom sync values
	CustomValues map[string]any `json:"customValues,omitempty"`
}

func (c ConnectorSyncConfig) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *ConnectorSyncConfig) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (o *ConnectorSyncConfig) GetSelectedStrategy() *SelectedStrategy {
	if o == nil {
		return nil
	}
	return o.SelectedStrategy
}

func (o *ConnectorSyncConfig) GetScheduledConfig() *ScheduledConfig {
	if o == nil {
		return nil
	}
	return o.ScheduledConfig
}

func (o *ConnectorSyncConfig) GetWebhookConfig() *WebhookConfig {
	if o == nil {
		return nil
	}
	return o.WebhookConfig
}

func (o *ConnectorSyncConfig) GetValues() map[string]any {
	if o == nil {
		return nil
	}
	return o.Values
}

func (o *ConnectorSyncConfig) GetCustomValues() map[string]any {
	if o == nil {
		return nil
	}
	return o.CustomValues
}

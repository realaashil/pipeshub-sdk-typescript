/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { expect, test } from "vitest";
import { Pipeshub } from "../index.js";
import { createTestHTTPClient } from "./test-client.js";

test("Oauth Apps List O Auth Apps", async () => {
  const testHttpClient = createTestHTTPClient("listOAuthApps");

  const pipeshub = new Pipeshub({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    security: {
      bearerAuth: "<YOUR_BEARER_TOKEN_HERE>",
    },
  });

  const result = await pipeshub.oAuthApps.listOAuthApps({});
  expect(result).toBeDefined();
  expect(result).toEqual({});
});

test("Oauth Apps Create O Auth App", async () => {
  const testHttpClient = createTestHTTPClient("createOAuthApp");

  const pipeshub = new Pipeshub({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    security: {
      bearerAuth: "<YOUR_BEARER_TOKEN_HERE>",
    },
  });

  const result = await pipeshub.oAuthApps.createOAuthApp({
    name: "My Integration App",
    description: "Integrates PipesHub with our internal tools",
    redirectUris: [
      "https://myapp.com/callback",
      "http://localhost:3000/callback",
    ],
    allowedGrantTypes: [
      "authorization_code",
      "refresh_token",
    ],
    allowedScopes: [
      "openid",
      "profile",
      "read:records",
    ],
  });
  expect(result).toBeDefined();
  expect(result).toEqual({
    clientSecret: "<value>",
  });
});

test("Oauth Apps List O Auth Scopes", async () => {
  const testHttpClient = createTestHTTPClient("listOAuthScopes");

  const pipeshub = new Pipeshub({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    security: {
      bearerAuth: "<YOUR_BEARER_TOKEN_HERE>",
    },
  });

  const result = await pipeshub.oAuthApps.listOAuthScopes();
  expect(result).toBeDefined();
  expect(result).toEqual({});
});

test("Oauth Apps Get O Auth App", async () => {
  const testHttpClient = createTestHTTPClient("getOAuthApp");

  const pipeshub = new Pipeshub({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    security: {
      bearerAuth: "<YOUR_BEARER_TOKEN_HERE>",
    },
  });

  const result = await pipeshub.oAuthApps.getOAuthApp({
    appId: "<id>",
  });
  expect(result).toBeDefined();
  expect(result).toEqual({});
});

test("Oauth Apps Update O Auth App", async () => {
  const testHttpClient = createTestHTTPClient("updateOAuthApp");

  const pipeshub = new Pipeshub({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    security: {
      bearerAuth: "<YOUR_BEARER_TOKEN_HERE>",
    },
  });

  const result = await pipeshub.oAuthApps.updateOAuthApp({
    appId: "<id>",
    body: {},
  });
  expect(result).toBeDefined();
  expect(result).toEqual({});
});

test("Oauth Apps Delete O Auth App", async () => {
  const testHttpClient = createTestHTTPClient("deleteOAuthApp");

  const pipeshub = new Pipeshub({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    security: {
      bearerAuth: "<YOUR_BEARER_TOKEN_HERE>",
    },
  });

  const result = await pipeshub.oAuthApps.deleteOAuthApp({
    appId: "<id>",
  });
  expect(result).toBeDefined();
  expect(result).toEqual({
    message: "OAuth app deleted successfully",
  });
});

test("Oauth Apps Regenerate O Auth App Secret", async () => {
  const testHttpClient = createTestHTTPClient("regenerateOAuthAppSecret");

  const pipeshub = new Pipeshub({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    security: {
      bearerAuth: "<YOUR_BEARER_TOKEN_HERE>",
    },
  });

  const result = await pipeshub.oAuthApps.regenerateOAuthAppSecret({
    appId: "<id>",
  });
  expect(result).toBeDefined();
  expect(result).toEqual({
    clientSecret: "<value>",
  });
});

test("Oauth Apps Suspend O Auth App", async () => {
  const testHttpClient = createTestHTTPClient("suspendOAuthApp");

  const pipeshub = new Pipeshub({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    security: {
      bearerAuth: "<YOUR_BEARER_TOKEN_HERE>",
    },
  });

  const result = await pipeshub.oAuthApps.suspendOAuthApp({
    appId: "<id>",
  });
  expect(result).toBeDefined();
  expect(result).toEqual({});
});

test("Oauth Apps Activate O Auth App", async () => {
  const testHttpClient = createTestHTTPClient("activateOAuthApp");

  const pipeshub = new Pipeshub({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    security: {
      bearerAuth: "<YOUR_BEARER_TOKEN_HERE>",
    },
  });

  const result = await pipeshub.oAuthApps.activateOAuthApp({
    appId: "<id>",
  });
  expect(result).toBeDefined();
  expect(result).toEqual({});
});

test("Oauth Apps List O Auth App Tokens", async () => {
  const testHttpClient = createTestHTTPClient("listOAuthAppTokens");

  const pipeshub = new Pipeshub({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    security: {
      bearerAuth: "<YOUR_BEARER_TOKEN_HERE>",
    },
  });

  const result = await pipeshub.oAuthApps.listOAuthAppTokens({
    appId: "<id>",
  });
  expect(result).toBeDefined();
  expect(result).toEqual([
    {},
  ]);
});

test("Oauth Apps Revoke All O Auth App Tokens", async () => {
  const testHttpClient = createTestHTTPClient("revokeAllOAuthAppTokens");

  const pipeshub = new Pipeshub({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    security: {
      bearerAuth: "<YOUR_BEARER_TOKEN_HERE>",
    },
  });

  const result = await pipeshub.oAuthApps.revokeAllOAuthAppTokens({
    appId: "<id>",
  });
  expect(result).toBeDefined();
  expect(result).toEqual({
    message: "All tokens revoked successfully",
  });
});
